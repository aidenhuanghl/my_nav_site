<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人博客 | 分享AI、技术与生活</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="site-container">
        <!-- 顶部导航栏 -->
        <header class="top-header">
            <div class="logo-container">
                <a href="index.html">
                    <img src="https://api.dicebear.com/7.x/bottts/svg?seed=aiNavigation" alt="个人博客" class="avatar-logo">
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#blog-section" class="nav-link">博客</a></li>
                    <li><a href="#about-section" class="nav-link">关于</a></li>
                    <li><a href="#contact-section" class="nav-link">联系</a></li>
                </ul>
            </nav>
            <div class="right-nav">
                <a href="https://twitter.com" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>
                <a href="https://weixin.qq.com" target="_blank" class="social-icon"><i class="fab fa-weixin"></i></a>
                <a href="mailto:contact@example.com" class="social-icon"><i class="far fa-envelope"></i></a>
                <div class="more-options">
                    <a href="#" class="more-link" id="more-options-toggle">更多 <i class="fas fa-angle-down"></i></a>
                    <div class="dropdown-menu" id="more-dropdown">
                        <a href="#" class="dropdown-item">设置</a>
                        <a href="#" class="dropdown-item">帮助</a>
                        <a href="#" class="dropdown-item">登录</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- 主要内容区 -->
        <main class="main-content">
            <section class="site-intro">
                <h1 class="site-title">个人博客</h1>
                <h2 class="site-tagline">分享AI、技术与生活的点滴</h2>
            </section>

            <!-- 博客部分 -->
            <section id="blog-section" class="detail-section">
                <h2>最新文章</h2>
                
                <div class="blog-controls">
                    <form class="blog-search">
                        <input type="text" placeholder="搜索博客...">
                        <button type="submit"><i class="fas fa-search"></i></button>
                    </form>
                    
                    <div class="blog-categories">
                        <div class="blog-category active" data-category="all">全部</div>
                        <div class="blog-category" data-category="tech">技术</div>
                        <div class="blog-category" data-category="ai">AI</div>
                        <div class="blog-category" data-category="japan">日本</div>
                        <div class="blog-category" data-category="web">Web开发</div>
                        <div class="blog-category" data-category="life">生活</div>
                    </div>
                </div>
                
                <div class="blog-grid">
                    <!-- 博客卡片 1 -->
                    <div class="blog-card" data-categories="tech,ai">
                        <div class="blog-card-image">
                            <img src="images/ai.jpg" alt="AI发展趋势">
                            <div class="blog-card-date">2023-06-15</div>
                        </div>
                        <div class="blog-card-content">
                            <div class="blog-card-tags">
                                <span class="blog-tag">AI</span>
                                <span class="blog-tag">技术</span>
                            </div>
                            <h3 class="blog-card-title">2023年AI发展趋势分析</h3>
                            <p class="blog-card-excerpt">人工智能技术在2023年迎来爆发式增长，GPT-4的发布标志着大语言模型进入新阶段，各行各业都在积极探索AI应用...</p>
                            <a href="#" class="blog-read-more">阅读全文 <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                    
                    <!-- 博客卡片 2 -->
                    <div class="blog-card" data-categories="japan,life">
                        <div class="blog-card-image">
                            <img src="images/japan.jpg" alt="东京生活">
                            <div class="blog-card-date">2023-05-20</div>
                        </div>
                        <div class="blog-card-content">
                            <div class="blog-card-tags">
                                <span class="blog-tag">日本</span>
                                <span class="blog-tag">生活</span>
                            </div>
                            <h3 class="blog-card-title">初到东京：一个中国留学生的生活适应指南</h3>
                            <p class="blog-card-excerpt">作为一名初到东京的中国留学生，面对陌生的环境和文化差异，我经历了许多挑战和惊喜。这篇文章分享我的经验和建议...</p>
                            <a href="#" class="blog-read-more">阅读全文 <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                    
                    <!-- 博客卡片 3 -->
                    <div class="blog-card" data-categories="web,tech">
                        <div class="blog-card-image">
                            <img src="images/webdev.jpg" alt="JavaScript">
                            <div class="blog-card-date">2023-04-10</div>
                        </div>
                        <div class="blog-card-content">
                            <div class="blog-card-tags">
                                <span class="blog-tag">Web开发</span>
                                <span class="blog-tag">JavaScript</span>
                            </div>
                            <h3 class="blog-card-title">理解JavaScript的异步编程：从回调到Promise再到Async/Await</h3>
                            <p class="blog-card-excerpt">JavaScript的异步编程一直是前端开发者必须掌握的核心技能。本文将带你深入理解从回调函数、Promise到Async/Await的演变...</p>
                            <a href="#" class="blog-read-more">阅读全文 <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="blog-pagination">
                    <div class="pagination-item active" data-page="1">1</div>
                    <div class="pagination-item" data-page="2">2</div>
                    <div class="pagination-item" data-page="3">3</div>
                    <div class="pagination-item next" data-page="next">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <!-- 博客侧边栏 -->
                <div class="blog-sidebar">
                    <div class="sidebar-section">
                        <h4 class="sidebar-title">热门文章</h4>
                        <ul class="sidebar-posts">
                            <li><a href="#" class="popular-post" data-title="如何使用ChatGPT提高工作效率" data-category="ai">如何使用ChatGPT提高工作效率</a></li>
                            <li><a href="#" class="popular-post" data-title="日本工作签证申请完全指南" data-category="japan">日本工作签证申请完全指南</a></li>
                            <li><a href="#" class="popular-post" data-title="React vs Vue：2023年如何选择？" data-category="web">React vs Vue：2023年如何选择？</a></li>
                            <li><a href="#" class="popular-post" data-title="在日本远程工作的经验分享" data-category="japan">在日本远程工作的经验分享</a></li>
                            <li><a href="#" class="popular-post" data-title="Next.js 13新特性解析" data-category="web">Next.js 13新特性解析</a></li>
                        </ul>
                    </div>
                    
                    <div class="sidebar-section">
                        <h4 class="sidebar-title">标签云</h4>
                        <div class="sidebar-tags">
                            <a href="#" class="sidebar-tag" data-tag="AI">AI</a>
                            <a href="#" class="sidebar-tag" data-tag="JavaScript">JavaScript</a>
                            <a href="#" class="sidebar-tag" data-tag="React">React</a>
                            <a href="#" class="sidebar-tag" data-tag="日本生活">日本生活</a>
                            <a href="#" class="sidebar-tag" data-tag="移民">移民</a>
                            <a href="#" class="sidebar-tag" data-tag="Web3">Web3</a>
                            <a href="#" class="sidebar-tag" data-tag="CSS">CSS</a>
                            <a href="#" class="sidebar-tag" data-tag="技术趋势">技术趋势</a>
                            <a href="#" class="sidebar-tag" data-tag="学习方法">学习方法</a>
                        </div>
                    </div>
                    
                    <div class="sidebar-section">
                        <h4 class="sidebar-title">订阅更新</h4>
                        <form class="sidebar-subscribe">
                            <input type="email" placeholder="您的邮箱地址">
                            <button type="submit" class="subscribe-btn">订阅</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- 写博客按钮 -->
            <div class="write-blog-container">
                <a href="#" class="write-blog-btn" id="write-blog-btn">
                    <i class="fas fa-pen"></i> 写博客
                </a>
            </div>

            <!-- 写博客模态框 -->
            <div class="write-blog-modal">
                <div class="write-blog-content">
                    <div class="write-blog-header">
                        <h3>发布新博客</h3>
                        <button class="close-modal-btn">&times;</button>
                    </div>
                    <form class="write-blog-form">
                        <div class="form-group">
                            <label for="blog-title">博客标题</label>
                            <input type="text" id="blog-title" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="blog-category">分类</label>
                            <select id="blog-category" required>
                                <option value="tech">技术</option>
                                <option value="ai">AI</option>
                                <option value="japan">日本</option>
                                <option value="web">Web开发</option>
                                <option value="life">生活</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="blog-tags">标签（用逗号分隔）</label>
                            <input type="text" id="blog-tags" placeholder="例如: JavaScript, 前端, React">
                        </div>
                        
                        <div class="form-group">
                            <label for="blog-content">博客内容</label>
                            <textarea id="blog-content" rows="12" required></textarea>
                            <p class="file-hint">支持基本的Markdown语法: **粗体**, *斜体*, `代码`, ## 标题</p>
                        </div>
                        
                        <div class="form-group">
                            <label for="blog-image">封面图片</label>
                            <input type="file" id="blog-image" accept="image/*">
                            <p class="file-hint">推荐尺寸: 800x500像素, 最大文件大小: 2MB</p>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="save-draft-btn">保存草稿</button>
                            <button type="submit" class="publish-btn">发布博客</button>
                        </div>
                    </form>
                </div>
            </div>

            <section id="contact-section" class="detail-section">
                <h2>联系我</h2>
                <div class="contact-form">
                    <div class="form-group">
                        <label for="name">您的姓名</label>
                        <input type="text" id="name" placeholder="请输入您的姓名">
                    </div>
                    <div class="form-group">
                        <label for="email">您的邮箱</label>
                        <input type="email" id="email" placeholder="请输入您的邮箱">
                    </div>
                    <div class="form-group">
                        <label for="message">留言内容</label>
                        <textarea id="message" rows="5" placeholder="请输入您的留言内容"></textarea>
                    </div>
                    <button type="submit" class="submit-btn">发送留言</button>
                </div>
            </section>

            <section id="about-section" class="detail-section">
                <h2>关于我</h2>
                <div class="about-content">
                    <p>你好！我是一名热爱技术和分享的博主，这个博客是我记录学习、工作和生活的小天地。我关注AI技术发展、编程、以及日本生活相关话题。</p>
                    <p>通过这个博客，我希望能与志同道合的朋友交流，分享我的所思所想，也欢迎大家通过留言或邮件与我联系。</p>
                </div>
            </section>
        </main>

        <!-- 底部版权信息 -->
        <footer class="site-footer">
            <div class="footer-social">
                <a href="https://twitter.com" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>
                <a href="https://weixin.qq.com" target="_blank" class="social-icon"><i class="fab fa-weixin"></i></a>
                <a href="#" class="social-icon"><i class="fas fa-graduation-cap"></i></a>
                <a href="mailto:contact@example.com" class="social-icon"><i class="far fa-envelope"></i></a>
                <a href="#" class="social-icon"><i class="fas fa-link"></i></a>
                <a href="#" class="social-icon"><i class="fas fa-image"></i></a>
                <a href="#" class="social-icon"><i class="fas fa-link"></i></a>
            </div>
            <div class="copyright">
                Copyright © <span id="current-year">2024</span> 个人博客. All rights reserved.
            </div>
        </footer>
    </div>

    <!-- JavaScript代码 -->
    <script src="blog.js"></script>
    <script src="visual-effects.js"></script>
    <script>
        // 设置当前年份
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // 待DOM加载完成后执行初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 处理导航链接点击事件
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    // 获取目标部分的ID
                    const targetId = this.getAttribute('href');
                    
                    // 如果是有效的内部链接
                    if(targetId && targetId.startsWith('#')) {
                        e.preventDefault();
                        
                        // 找到目标元素
                        const targetElement = document.querySelector(targetId);
                        
                        // 如果找到目标元素，平滑滚动到该元素
                        if(targetElement) {
                            targetElement.scrollIntoView({ 
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });
            });

            // 更多选项下拉菜单
            const moreOptionsToggle = document.getElementById('more-options-toggle');
            const moreDropdown = document.getElementById('more-dropdown');
            
            if(moreOptionsToggle && moreDropdown) {
                moreOptionsToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    moreDropdown.classList.toggle('active');
                });
                
                // 点击页面其他地方关闭下拉菜单
                document.addEventListener('click', function(e) {
                    if(!moreOptionsToggle.contains(e.target) && !moreDropdown.contains(e.target)) {
                        moreDropdown.classList.remove('active');
                    }
                });
            }

            // 联系表单提交处理
            const contactForm = document.querySelector('.contact-form');
            if(contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // 获取表单数据
                    const name = document.getElementById('name').value;
                    const email = document.getElementById('email').value;
                    const message = document.getElementById('message').value;
                    
                    if(!name || !email || !message) {
                        alert('请填写完整的表单信息');
                        return;
                    }
                    
                    // 在实际应用中，这里应该发送数据到服务器
                    alert('您的留言已提交，我会尽快回复您！');
                    
                    // 清空表单
                    document.getElementById('name').value = '';
                    document.getElementById('email').value = '';
                    document.getElementById('message').value = '';
                });
            }
            
            // 手动初始化博客功能
            initManualBlogFunctions();
        });
        
        // 手动初始化博客功能
        function initManualBlogFunctions() {
            // 热门文章点击事件
            document.querySelectorAll('.popular-post').forEach(post => {
                post.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 创建一个临时博客对象
                    const blog = {
                        id: 'popular-' + Date.now(),
                        title: this.getAttribute('data-title'),
                        content: "这是热门文章的内容。详细内容正在编写中...",
                        category: this.getAttribute('data-category'),
                        date: new Date().toISOString().split('T')[0],
                        author: '网站作者',
                        tags: [this.getAttribute('data-category')]
                    };
                    
                    // 显示博客详情
                    if (typeof showBlogDetail === 'function') {
                        showBlogDetail(blog);
                    } else {
                        alert('博客功能加载中，请稍后再试');
                    }
                });
            });
            
            // 标签云点击事件
            document.querySelectorAll('.sidebar-tag').forEach(tag => {
                tag.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const tagName = this.getAttribute('data-tag');
                    
                    // 查找带有此标签的博客卡片
                    const blogCards = document.querySelectorAll('.blog-card');
                    let found = false;
                    
                    blogCards.forEach(card => {
                        const cardTags = Array.from(card.querySelectorAll('.blog-tag')).map(t => t.textContent);
                        
                        if (cardTags.some(t => t.includes(tagName))) {
                            card.style.display = '';
                            found = true;
                        } else {
                            card.style.display = 'none';
                        }
                    });
                    
                    // 如果没找到任何匹配的博客，显示所有博客
                    if (!found) {
                        blogCards.forEach(card => {
                            card.style.display = '';
                        });
                        alert('没有找到标签为"' + tagName + '"的博客');
                    }
                });
            });
            
            // 订阅表单
            const subscribeForm = document.querySelector('.sidebar-subscribe');
            if (subscribeForm) {
                subscribeForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = this.querySelector('input[type="email"]').value;
                    
                    if (email) {
                        alert('感谢订阅！我们将向 ' + email + ' 发送最新博客更新。');
                        this.querySelector('input[type="email"]').value = '';
                    } else {
                        alert('请输入有效的邮箱地址');
                    }
                });
            }
            
            // 搜索功能
            const searchForm = document.querySelector('.blog-search');
            if (searchForm) {
                searchForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const searchTerm = this.querySelector('input').value.toLowerCase().trim();
                    
                    if (!searchTerm) {
                        return;
                    }
                    
                    // 搜索博客标题和摘要
                    const blogCards = document.querySelectorAll('.blog-card');
                    let found = false;
                    
                    blogCards.forEach(card => {
                        const title = card.querySelector('.blog-card-title').textContent.toLowerCase();
                        const excerpt = card.querySelector('.blog-card-excerpt').textContent.toLowerCase();
                        
                        if (title.includes(searchTerm) || excerpt.includes(searchTerm)) {
                            card.style.display = '';
                            found = true;
                        } else {
                            card.style.display = 'none';
                        }
                    });
                    
                    if (!found) {
                        alert('没有找到包含"' + searchTerm + '"的博客文章');
                        // 显示所有卡片
                        blogCards.forEach(card => {
                            card.style.display = '';
                        });
                    }
                });
            }
            
            // 分类筛选功能
            document.querySelectorAll('.blog-category').forEach(category => {
                category.addEventListener('click', function() {
                    // 移除所有分类的active类
                    document.querySelectorAll('.blog-category').forEach(c => {
                        c.classList.remove('active');
                    });
                    
                    // 给当前点击的分类添加active类
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-category');
                    const blogCards = document.querySelectorAll('.blog-card');
                    
                    // 如果是"全部"类别，显示所有卡片
                    if (filter === 'all') {
                        blogCards.forEach(card => {
                            card.style.display = '';
                        });
                        return;
                    }
                    
                    // 筛选博客卡片
                    blogCards.forEach(card => {
                        const cardCategories = card.getAttribute('data-categories');
                        if (cardCategories && cardCategories.includes(filter)) {
                            card.style.display = '';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            });
            
            // 为静态博客卡片添加阅读全文功能
            document.querySelectorAll('.blog-card .blog-read-more').forEach((link, index) => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 获取父级博客卡片
                    const blogCard = this.closest('.blog-card');
                    if (!blogCard) return;
                    
                    // 获取博客信息
                    const title = blogCard.querySelector('.blog-card-title').textContent;
                    const excerpt = blogCard.querySelector('.blog-card-excerpt').textContent;
                    const dateElement = blogCard.querySelector('.blog-card-date');
                    const date = dateElement ? dateElement.textContent : new Date().toISOString().split('T')[0];
                    
                    // 获取标签
                    const tags = [];
                    blogCard.querySelectorAll('.blog-tag').forEach(tag => {
                        tags.push(tag.textContent);
                    });
                    
                    // 获取分类
                    const categories = blogCard.getAttribute('data-categories') || '';
                    const category = categories.split(',')[0] || 'tech';
                    
                    // 博客图片
                    const imgElement = blogCard.querySelector('.blog-card-image img');
                    const imageUrl = imgElement ? imgElement.src : '';
                    
                    // 创建临时博客对象
                    const blog = {
                        id: 'static-' + index,
                        title: title,
                        content: excerpt + '\n\n这是预设的静态博客文章。详细内容正在编写中，敬请期待完整版本。',
                        date: date,
                        author: '网站作者',
                        category: category,
                        tags: tags,
                        imageUrl: imageUrl
                    };
                    
                    // 创建并显示博客详情模态框
                    showBlogDetailModal(blog);
                });
            });
        }
        
        // 显示博客详情模态框
        function showBlogDetailModal(blog) {
            // 创建博客详情模态框
            const detailModal = document.createElement('div');
            detailModal.className = 'blog-detail-modal';
            
            // 格式化日期
            let formattedDate = blog.date;
            
            // 确定博客详情中使用的图片
            let detailImageHtml = '';
            if (blog.imageUrl) {
                detailImageHtml = `<div class="blog-detail-image"><img src="${blog.imageUrl}" alt="${blog.title}"></div>`;
            }
            
            detailModal.innerHTML = `
                <div class="blog-detail-content">
                    <div class="blog-detail-header">
                        <h2>${blog.title}</h2>
                        <button class="close-detail-btn">&times;</button>
                    </div>
                    <div class="blog-detail-meta">
                        <span class="blog-detail-date"><i class="far fa-calendar-alt"></i> ${formattedDate}</span>
                        <span class="blog-detail-author"><i class="far fa-user"></i> ${blog.author || '网站作者'}</span>
                        <span class="blog-detail-category"><i class="far fa-folder"></i> ${blog.category || '未分类'}</span>
                    </div>
                    <div class="blog-detail-tags">
                        ${Array.isArray(blog.tags) ? blog.tags.map(tag => `<span class="blog-tag">${tag}</span>`).join('') : ''}
                    </div>
                    ${detailImageHtml}
                    <div class="blog-detail-body">
                        ${formatBlogContent(blog.content)}
                    </div>
                </div>
            `;
            
            document.body.appendChild(detailModal);
            document.body.style.overflow = 'hidden';
            
            // 添加渐变效果
            setTimeout(() => {
                detailModal.classList.add('active');
            }, 10);
            
            // 关闭详情模态框
            const closeBtn = detailModal.querySelector('.close-detail-btn');
            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    detailModal.classList.remove('active');
                    setTimeout(() => {
                        document.body.removeChild(detailModal);
                        document.body.style.overflow = '';
                    }, 300);
                });
            }
            
            // 点击模态框外部关闭
            detailModal.addEventListener('click', function(e) {
                if (e.target === detailModal) {
                    detailModal.classList.remove('active');
                    setTimeout(() => {
                        document.body.removeChild(detailModal);
                        document.body.style.overflow = '';
                    }, 300);
                }
            });
        }
        
        // 格式化博客内容
        function formatBlogContent(content) {
            if (!content) return '';
            
            // 将换行符转换为<br>
            let formatted = content.replace(/\n/g, '<br>');
            
            // 支持简单的Markdown语法
            // 标题
            formatted = formatted.replace(/## (.*?)$/gm, '<h2>$1</h2>');
            formatted = formatted.replace(/### (.*?)$/gm, '<h3>$1</h3>');
            
            // 粗体和斜体
            formatted = formatted.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            formatted = formatted.replace(/\*(.*?)\*/g, '<em>$1</em>');
            
            // 代码块
            formatted = formatted.replace(/`(.*?)`/g, '<code>$1</code>');
            
            return formatted;
        }
    </script>
</body>
</html>
